(this.webpackJsonpep_picker=this.webpackJsonpep_picker||[]).push([[0],[,,,,,,,,,,function(e,t,a){e.exports=a(27)},,,,,function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(9),i=a.n(s),o=(a(15),a(3)),l=a(4),c=a(6),u=a(5),d=a(1),h=a(7);a(16);function p(e){return e.nav?r.a.createElement("div",{id:"nav-bar",class:"col-12"},r.a.createElement("button",{id:"nav-bar-close",class:"close-button",onClick:e.flip},"X"),r.a.createElement("div",{id:"inner-nav"},r.a.createElement("a",{class:"link-block",href:"https://vkwebsite.herokuapp.com/"},"Homepage"),r.a.createElement("a",{class:"link-block",href:"https://vkplaid.herokuapp.com/"},"Plaid Maker"),r.a.createElement("a",{class:"link-block",href:"https://vkep-picker.herokuapp.com/ep_search",id:"active"},"Episode Picker"),r.a.createElement("p",{class:"hidden link-block",id:"placeholder"}))):r.a.createElement("div",{id:"top-bar"},r.a.createElement("div",null,r.a.createElement("button",{id:"nav-bar-open",className:"future-border",onClick:e.flip},"Nav Bar"),r.a.createElement("h1",null," Episode Picker "),r.a.createElement("a",{href:"https://github.com/kuertzva/Episode_Picker",id:"github-link",className:"future-border buttonish"},"Github")))}a(17),a(18);var m=function(e){return r.a.createElement("div",{id:"search-section"},r.a.createElement("span",null,r.a.createElement("label",{for:"search"}," Show: "),r.a.createElement("input",{type:"text",name:"search",onChange:function(t){return e.handleChange(t)},value:e.query}),r.a.createElement("button",{className:"future-border",onClick:e.handleSubmit},"Search")))};a(19);var g=function(e){return r.a.createElement("div",{id:"start-page"},r.a.createElement("div",{id:"past-searches",className:"quick-showcase future-border"},r.a.createElement("p",null,"Past Searches: IN DEVELOPMENT"),r.a.createElement("div",{className:"showcase"})),r.a.createElement("div",{id:"popular-searches",className:"quick-showcase future-border"},r.a.createElement("p",null,"Popular Searches: IN DEVELOPMENT"),r.a.createElement("div",{className:"showcase"})))};a(20);var v=function(e){return r.a.createElement("h3",{className:"loading"},e.string,r.a.createElement("span",null))},E=(a(21),a(2)),b=a.n(E),f=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).runSearch=a.runSearch.bind(Object(d.a)(a)),a.newSearch=a.newSearch.bind(Object(d.a)(a)),a}return Object(h.a)(t,e),Object(l.a)(t,[{key:"runSearch",value:function(){var e=this;console.log("runSearch()");this.props.loadToggle(),b.a.get("/search_batch",(function(t,a){e.props.handleUpdate(t),console.log("received")}))}},{key:"newSearch",value:function(){var e=this;console.log("search terms initiated"),b.a.get("/q="+this.props.query,(function(t,a){t?e.runSearch(t):alert("Error: failed to update search parameters on server")}))}},{key:"componentDidMount",value:function(){this.newSearch()}},{key:"componentDidUpdate",value:function(e){e.query!==this.props.query&&this.newSearch()}},{key:"render",value:function(){var e,t,a,n;function s(e){var t=this;return r.a.createElement("div",{"data-id":e.id,"data-title":e.title,"data-image":e.image,key:e.id,onClick:function(e){return t.props.onClick(e)},className:"result"},r.a.createElement("h3",null," ",e.title," "),r.a.createElement("img",{src:e.image}))}(console.log(this.props.length),s=s.bind(this),this.props.loading||0!==this.props.results.length)?(console.log(this.props.results),console.log(Array.isArray(this.props.results)),this.props.results.length<1?(a=r.a.createElement("div",{className:"load-buffer"}),t=null):(a=null,t=this.props.results.map((function(e){return s(e)}))),n=this.props.loading?r.a.createElement("div",{className:"load-results"},r.a.createElement(v,{string:"Searching"})):this.props.more?r.a.createElement("button",{id:"more",className:"future-border",onClick:this.runSearch},"More Shows"):null,e=r.a.createElement("div",{id:"results"},t,a,n)):e=r.a.createElement("div",{id:"no-results"},r.a.createElement("h3",null," Umm... Hey... "),r.a.createElement("br",null),r.a.createElement("p",null,"Your search for '"+this.props.query+"' hasn't turned up any results."),r.a.createElement("br",null),r.a.createElement("p",null,"This could be due to IMDB not having a matching show or it could be a bug in my code. Please feel encouraged to contact me at kuertzva@miamioh.edu"));return r.a.createElement("div",{id:"results-page"},r.a.createElement("h2",null," ","Search for '"+this.props.query+"':"," "),e)}}]),t}(r.a.Component);a(22);var S=function(e){return r.a.createElement("p",{className:e.active,onClick:function(t){return e.toggleSeason(t)},"data-index":e.index},e.season.number)};a(23);var k=function(e){function t(t){var a=t.target.getAttribute("data-index");e.toggleSeason(a)}var a=e.seasons.map((function(a){return function(a){var n=e.seasons.indexOf(a);return r.a.createElement(S,{season:a,active:"season "+(a.active?"s-active":"s-inactive"),key:n,index:n,toggleSeason:t})}(a)}));return r.a.createElement("div",{id:"season-box"},r.a.createElement("h4",null,"Seasons:"),r.a.createElement("div",{id:"seasons"},a))};a(24);var y=function(e){return r.a.createElement("div",{id:"rating-box"},r.a.createElement("h4",null,"Rating Factor:"),r.a.createElement("div",{id:"input-wrapper"},r.a.createElement("input",{type:"range",min:1,max:3,step:.1,value:e.rating,onChange:function(t){return e.updateRating(t)}}),r.a.createElement("h5",{id:"left-label"}," None "),r.a.createElement("h5",{id:"right-label"}," Max ")),r.a.createElement("button",{className:"future-border",onClick:e.generateEpisode},"Submit"))},w=(a(25),function(e){function t(e){return Object(o.a)(this,t),Object(c.a)(this,Object(u.a)(t).call(this,e))}return Object(h.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this;b.a.post("/details",{show_id:this.props.show.id},(function(t){var a=t.map((function(e){return{number:e,active:!0}}));e.props.initSeasons(a)}))}},{key:"render",value:function(){var e;return e=this.props.loading?r.a.createElement("div",{className:"load-details"},r.a.createElement(v,{string:"Loading"})):r.a.createElement("div",{id:"details-input"},r.a.createElement(k,{seasons:this.props.seasons,updateSeasons:this.props.updateSeasons,toggleSeason:this.props.toggleSeason}),r.a.createElement(y,{rating:this.props.rating,updateRating:this.props.updateRating,generateEpisode:this.props.generateEpisode})),r.a.createElement("div",{id:"details-screen"},r.a.createElement("div",{id:"details-display"},r.a.createElement("h3",null,this.props.show.title),r.a.createElement("img",{src:this.props.show.image})),e)}}]),t}(r.a.Component));a(26);var O=function(e){return r.a.createElement("div",{id:"episode-screen"},r.a.createElement("div",{id:"episode-top"},r.a.createElement("h3",null,"S"+e.episode.season+" E"+e.episode.number+": "+e.episode.title),r.a.createElement("img",{src:e.episode.image})),r.a.createElement("div",{id:"episode-bottom"},r.a.createElement("p",null,e.episode.summary),r.a.createElement("div",{id:"episode-button-box"},r.a.createElement("button",{id:"reroll",className:"future-border",onClick:e.reroll},"Different Episode"),r.a.createElement("button",{id:"changeParams",className:"future-border",onClick:e.changeParams},"Change Parameters"))))},j=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).navToggle=a.navToggle.bind(Object(d.a)(a)),a.loadToggle=a.loadToggle.bind(Object(d.a)(a)),a.handleQuery=a.handleQuery.bind(Object(d.a)(a)),a.handleSearch=a.handleSearch.bind(Object(d.a)(a)),a.updateSearch=a.updateSearch.bind(Object(d.a)(a)),a.setShow=a.setShow.bind(Object(d.a)(a)),a.initSeasons=a.initSeasons.bind(Object(d.a)(a)),a.toggleSeason=a.toggleSeason.bind(Object(d.a)(a)),a.updateRating=a.updateRating.bind(Object(d.a)(a)),a.generateEpisode=a.generateEpisode.bind(Object(d.a)(a)),a.clearEpisode=a.clearEpisode.bind(Object(d.a)(a)),a.state={nav:!1,loading:!1,search_input:"",query:"",queried:!1,results:[],more_button:!0,show:null,seasons:[],ratingFactor:1,episode:null},a}return Object(h.a)(t,e),Object(l.a)(t,[{key:"navToggle",value:function(){this.setState((function(e){return{nav:!e.nav}}))}},{key:"loadToggle",value:function(){this.setState((function(e){return{loading:!e.loading}}))}},{key:"handleQuery",value:function(e){var t=e.target.value;this.setState({search_input:t})}},{key:"handleSearch",value:function(){console.log("handleSearch"),this.state.search_input.length>0&&this.state.search_input!==this.state.query&&(console.log("extra length"),this.setState((function(e){return{queried:!0,query:e.search_input,results:[],show:null,seasons:[],ratingFactor:1,episode:null}})))}},{key:"updateSearch",value:function(e){console.log("updateSearch");var t=e[0];console.log(t.length),this.setState({results:this.state.results.concat(t),more_button:e[1]}),this.loadToggle()}},{key:"setShow",value:function(e){var t=e.currentTarget,a=t.getAttribute("data-title"),n=t.getAttribute("data-id"),r=t.getAttribute("data-image");this.setState({show:{title:a,id:n,image:r}}),this.loadToggle()}},{key:"initSeasons",value:function(e){this.setState({seasons:e}),this.state.loading&&this.loadToggle(),console.log("updateSeasons()")}},{key:"toggleSeason",value:function(e){var t=this.state.seasons;t[e].active=!t[e].active,this.setState({seasons:t})}},{key:"updateRating",value:function(e){this.setState({ratingFactor:e.target.value})}},{key:"generateEpisode",value:function(){var e,t=this,a=[],n=!0,r=!1,s=void 0;try{for(var i,o=this.state.seasons[Symbol.iterator]();!(n=(i=o.next()).done);n=!0)(e=i.value).active&&a.push(e.number)}catch(l){r=!0,s=l}finally{try{n||null==o.return||o.return()}finally{if(r)throw s}}b.a.post("/episode",{season_list:a,ratingFactor:this.state.ratingFactor},(function(e){console.log("data received"),t.setState({episode:e}),console.log("data formatted")}))}},{key:"clearEpisode",value:function(){this.setState({episode:null})}},{key:"render",value:function(){var e;return this.state.episode?e=r.a.createElement(O,{episode:this.state.episode,changeParams:this.clearEpisode,reroll:this.generateEpisode}):this.state.show?e=r.a.createElement(w,{show:this.state.show,seasons:this.state.seasons,rating:this.state.ratingFactor,loading:this.state.loading,loadToggle:this.state.loadToggle,initSeasons:this.initSeasons,toggleSeason:this.toggleSeason,updateRating:this.updateRating,generateEpisode:this.generateEpisode}):this.state.queried?(console.log(this.state.show),e=r.a.createElement(f,{query:this.state.query,loading:this.state.loading,loadToggle:this.loadToggle,results:this.state.results,more:this.state.more_button,handleUpdate:this.updateSearch,onClick:this.setShow})):e=r.a.createElement(g,null),r.a.createElement("div",{id:"frame",className:"col-12 row-12"},null,r.a.createElement(p,{nav:this.state.nav,flip:this.navToggle}),r.a.createElement("div",{id:"content",className:"future-border"},r.a.createElement(m,{search_input:this.state.search_input,handleChange:this.handleQuery,handleSubmit:this.handleSearch}),r.a.createElement("br",null),e))}}]),t}(r.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(j,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}],[[10,1,2]]]);
//# sourceMappingURL=main.2dba1f3a.chunk.js.map