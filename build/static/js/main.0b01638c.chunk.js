(this.webpackJsonpep_picker=this.webpackJsonpep_picker||[]).push([[0],[,,,,,,,,,,function(e,t,a){e.exports=a(28)},,,,,function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){"use strict";a.r(t);var n=a(0),i=a.n(n),s=a(9),r=a.n(s),o=(a(15),a(2)),l=a(3),c=a(5),u=a(4),h=a(1),d=a(6),p=a(7),g=a.n(p),m=(a(16),function(e){function t(e){return Object(o.a)(this,t),Object(c.a)(this,Object(u.a)(t).call(this,e))}return Object(d.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=document.getElementById(this.props.id),t=getComputedStyle(e);e.parentNode.style.height=t.height,e.parentNode.style.width=t.width}},{key:"render",value:function(){var e,t={height:this.height,width:this.width},a="future-border";return this.props.inline&&(a+=" inline"),this.props.link?(a+=" buttonish",e=i.a.createElement("a",{className:a,href:this.props.action,id:this.props.id},this.props.title)):e=i.a.createElement("button",{className:a,onClick:this.props.action,id:this.props.id},this.props.title),i.a.createElement("div",{className:"button-wrapper",style:t},e)}}]),t}(i.a.Component));a(17);function v(e){return e.nav?i.a.createElement("div",{id:"nav-bar",class:"col-12"},i.a.createElement("button",{id:"nav-bar-close",class:"close-button",onClick:e.flip},"X"),i.a.createElement("div",{id:"inner-nav"},i.a.createElement("a",{class:"link-block",href:"https://vkwebsite.herokuapp.com/"},"Homepage"),i.a.createElement("a",{class:"link-block",href:"https://vkplaid.herokuapp.com/"},"Plaid Maker"),i.a.createElement("a",{class:"link-block",href:"https://vkep-picker.herokuapp.com/ep_search",id:"active"},"Episode Picker"),i.a.createElement("p",{class:"hidden link-block",id:"placeholder"}))):i.a.createElement("div",{id:"top-bar"},i.a.createElement("div",null,i.a.createElement(m,{id:"open-nav-button",action:e.flip,title:"Nav Bar",link:!1,inline:!0}),i.a.createElement("h1",null," Episode Picker "),i.a.createElement(m,{id:"github-button",action:"https://github.com/kuertzva/Episode_Picker",title:"Github",link:!0,inline:!0})))}a(18),a(19);var E=function(e){return i.a.createElement("div",{id:"search-section"},i.a.createElement("span",null,i.a.createElement("label",{for:"search"}," Show: "),i.a.createElement("input",{type:"text",name:"search",onChange:function(t){return e.handleChange(t)},value:e.query}),i.a.createElement(m,{id:"search-button",title:"Search",action:e.handleSubmit,link:!1})))};a(20);var b=function(e){return i.a.createElement("div",{id:"start-page"},i.a.createElement("div",{id:"past-searches",className:"quick-showcase future-border"},i.a.createElement("p",null,"Past Searches: IN DEVELOPMENT"),i.a.createElement("div",{className:"showcase"})),i.a.createElement("div",{id:"popular-searches",className:"quick-showcase future-border"},i.a.createElement("p",null,"Popular Searches: IN DEVELOPMENT"),i.a.createElement("div",{className:"showcase"})))};a(21);var f=function(e){return i.a.createElement("h3",{className:"loading"},e.string,i.a.createElement("span",null))},k=(a(22),function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).runSearch=a.runSearch.bind(Object(h.a)(a)),a.newSearch=a.newSearch.bind(Object(h.a)(a)),a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"runSearch",value:function(){var e=this;console.log("runSearch()");this.props.loadToggle(),g.a.get("/search_batch",(function(t,a){e.props.handleUpdate(t),console.log("received")}))}},{key:"newSearch",value:function(){var e=this;console.log("search terms initiated"),g.a.get("/q="+this.props.query,(function(t,a){t?e.runSearch(t):alert("Error: failed to update search parameters on server")}))}},{key:"componentDidMount",value:function(){this.newSearch()}},{key:"componentDidUpdate",value:function(e){e.query!==this.props.query&&this.newSearch()}},{key:"render",value:function(){var e,t,a,n;function s(e){var t=this;return i.a.createElement("div",{"data-id":e.id,"data-title":e.title,"data-image":e.image,key:e.id,onClick:function(e){return t.props.onClick(e)},className:"result"},i.a.createElement("h3",null," ",e.title," "),i.a.createElement("img",{src:e.image}))}(console.log(this.props.length),s=s.bind(this),this.props.loading||0!==this.props.results.length)?(console.log(this.props.results),console.log(Array.isArray(this.props.results)),this.props.results.length<1?(a=i.a.createElement("div",{className:"load-buffer"}),t=null):(a=null,t=this.props.results.map((function(e){return s(e)}))),n=this.props.loading?i.a.createElement("div",{className:"load-results"},i.a.createElement(f,{string:"Searching"})):this.props.more?i.a.createElement(m,{id:"more-shows-button",title:"More Shows",action:this.runSearch,link:!1}):null,e=i.a.createElement("div",{id:"results"},t,a,n)):e=i.a.createElement("div",{id:"no-results"},i.a.createElement("h3",null," Umm... Hey... "),i.a.createElement("br",null),i.a.createElement("p",null,"Your search for '"+this.props.query+"' hasn't turned up any results."),i.a.createElement("br",null),i.a.createElement("p",null,"This could be due to IMDB not having a matching show or it could be a bug in my code. Please feel encouraged to contact me at kuertzva@miamioh.edu"));return i.a.createElement("div",{id:"results-page"},i.a.createElement("h2",null," ","Search for '"+this.props.query+"':"," "),e)}}]),t}(i.a.Component));a(23);var S=function(e){return i.a.createElement("p",{className:e.active,onClick:function(t){return e.toggleSeason(t)},"data-index":e.index},e.season.number)};a(24);var y=function(e){function t(t){var a=t.target.getAttribute("data-index");e.toggleSeason(a)}var a=e.seasons.map((function(a){return function(a){var n=e.seasons.indexOf(a);return i.a.createElement(S,{season:a,active:"season "+(a.active?"s-active":"s-inactive"),key:n,index:n,toggleSeason:t})}(a)}));return i.a.createElement("div",{id:"season-box"},i.a.createElement("h4",null,"Seasons:"),i.a.createElement("div",{id:"seasons"},a))};a(25);var w=function(e){return i.a.createElement("div",{id:"rating-box"},i.a.createElement("h4",null,"Rating Factor:"),i.a.createElement("div",{id:"input-wrapper"},i.a.createElement("input",{type:"range",min:1,max:3,step:.1,value:e.rating,onChange:function(t){return e.updateRating(t)}}),i.a.createElement("h5",{id:"left-label"}," None "),i.a.createElement("h5",{id:"right-label"}," Max ")),i.a.createElement(m,{id:"get-episode-button",title:"Submit",action:function(){return e.changeEpisode("empty")},link:!1}))},O=(a(26),function(e){function t(e){return Object(o.a)(this,t),Object(c.a)(this,Object(u.a)(t).call(this,e))}return Object(d.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this;g.a.post("/details",{show_id:this.props.show.id},(function(t){var a=t.map((function(e){return{number:e,active:!0}}));e.props.initSeasons(a)}))}},{key:"render",value:function(){var e;return e=this.props.loading?i.a.createElement("div",{className:"load-details"},i.a.createElement(f,{string:"Loading"})):i.a.createElement("div",{id:"details-input"},i.a.createElement(y,{seasons:this.props.seasons,updateSeasons:this.props.updateSeasons,toggleSeason:this.props.toggleSeason}),i.a.createElement(w,{rating:this.props.rating,updateRating:this.props.updateRating,changeEpisode:this.props.changeEpisode})),i.a.createElement("div",{id:"details-screen"},i.a.createElement("div",{id:"details-display"},i.a.createElement("h3",null,this.props.show.title),i.a.createElement("img",{src:this.props.show.image})),e)}}]),t}(i.a.Component)),j=(a(27),function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).generateEpisode=a.generateEpisode.bind(Object(h.a)(a)),a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"generateEpisode",value:function(){var e,t=this,a=[],n=!0,i=!1,s=void 0;try{for(var r,o=this.props.seasons[Symbol.iterator]();!(n=(r=o.next()).done);n=!0)(e=r.value).active&&a.push(e.number)}catch(l){i=!0,s=l}finally{try{n||null==o.return||o.return()}finally{if(i)throw s}}g.a.post("/episode",{season_list:a,ratingFactor:this.props.rating},(function(e){console.log("data received"),t.props.changeEpisode(e),console.log("data formatted")}))}},{key:"componentDidMount",value:function(){"empty"===this.props.episode&&this.generateEpisode()}},{key:"render",value:function(){var e=this;return"empty"===this.props.episode?i.a.createElement("div",{id:"load-episode"},i.a.createElement(f,{string:"Loading"})):i.a.createElement("div",{id:"episode-screen"},i.a.createElement("div",{id:"episode-top"},i.a.createElement("h3",null,"S"+this.props.episode.season+" E"+this.props.episode.number+": "+this.props.episode.title),i.a.createElement("img",{src:this.props.episode.image})),i.a.createElement("div",{id:"episode-bottom"},i.a.createElement("p",null,this.props.episode.summary),i.a.createElement("div",{id:"episode-button-box"},i.a.createElement(m,{id:"different-episode-button",title:"Different Episode",action:function(){return e.props.changeEpisode("empty")},link:!1}),i.a.createElement(m,{id:"change-params-button",title:"Change Parameters",action:this.props.changeParams,link:!1}))))}}]),t}(i.a.Component)),N=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).navToggle=a.navToggle.bind(Object(h.a)(a)),a.loadToggle=a.loadToggle.bind(Object(h.a)(a)),a.handleQuery=a.handleQuery.bind(Object(h.a)(a)),a.handleSearch=a.handleSearch.bind(Object(h.a)(a)),a.updateSearch=a.updateSearch.bind(Object(h.a)(a)),a.setShow=a.setShow.bind(Object(h.a)(a)),a.initSeasons=a.initSeasons.bind(Object(h.a)(a)),a.toggleSeason=a.toggleSeason.bind(Object(h.a)(a)),a.updateRating=a.updateRating.bind(Object(h.a)(a)),a.changeEpisode=a.changeEpisode.bind(Object(h.a)(a)),a.clearEpisode=a.clearEpisode.bind(Object(h.a)(a)),a.state={nav:!1,loading:!1,search_input:"",query:"",queried:!1,results:[],more_button:!0,show:null,seasons:[],ratingFactor:1,episode:null},a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"navToggle",value:function(){this.setState((function(e){return{nav:!e.nav}}))}},{key:"loadToggle",value:function(){this.setState((function(e){return{loading:!e.loading}}))}},{key:"handleQuery",value:function(e){var t=e.target.value;this.setState({search_input:t})}},{key:"handleSearch",value:function(){console.log("handleSearch"),this.state.search_input.length>0&&this.state.search_input!==this.state.query&&(console.log("extra length"),this.setState((function(e){return{queried:!0,query:e.search_input,results:[],show:null,seasons:[],ratingFactor:1,episode:null}})))}},{key:"updateSearch",value:function(e){console.log("updateSearch");var t=e[0];console.log(t.length),this.setState({results:this.state.results.concat(t),more_button:e[1]}),this.loadToggle()}},{key:"setShow",value:function(e){var t=e.currentTarget,a=t.getAttribute("data-title"),n=t.getAttribute("data-id"),i=t.getAttribute("data-image");this.setState({show:{title:a,id:n,image:i}}),this.loadToggle()}},{key:"initSeasons",value:function(e){this.setState({seasons:e}),this.state.loading&&this.loadToggle(),console.log("updateSeasons()")}},{key:"toggleSeason",value:function(e){var t=this.state.seasons;t[e].active=!t[e].active,this.setState({seasons:t})}},{key:"updateRating",value:function(e){this.setState({ratingFactor:e.target.value})}},{key:"changeEpisode",value:function(e){this.setState({episode:e})}},{key:"clearEpisode",value:function(){this.setState({episode:null})}},{key:"render",value:function(){var e;return this.state.episode?e=i.a.createElement(j,{episode:this.state.episode,seasons:this.state.seasons,rating:this.state.ratingFactor,changeParams:this.clearEpisode,changeEpisode:this.changeEpisode,loading:this.state.loading}):this.state.show?e=i.a.createElement(O,{show:this.state.show,seasons:this.state.seasons,rating:this.state.ratingFactor,loading:this.state.loading,loadToggle:this.state.loadToggle,initSeasons:this.initSeasons,toggleSeason:this.toggleSeason,updateRating:this.updateRating,changeEpisode:this.changeEpisode}):this.state.queried?(console.log(this.state.show),e=i.a.createElement(k,{query:this.state.query,loading:this.state.loading,loadToggle:this.loadToggle,results:this.state.results,more:this.state.more_button,handleUpdate:this.updateSearch,onClick:this.setShow})):e=i.a.createElement(b,null),i.a.createElement("div",{id:"frame",className:"col-12 row-12"},null,i.a.createElement(v,{nav:this.state.nav,flip:this.navToggle}),i.a.createElement("div",{id:"content",className:"future-border"},i.a.createElement(E,{search_input:this.state.search_input,handleChange:this.handleQuery,handleSubmit:this.handleSearch}),i.a.createElement("br",null),e))}}]),t}(i.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(i.a.createElement(N,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}],[[10,1,2]]]);
//# sourceMappingURL=main.0b01638c.chunk.js.map