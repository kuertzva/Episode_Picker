(this.webpackJsonpep_picker=this.webpackJsonpep_picker||[]).push([[0],[,,,,,,,,,,function(e,t,a){e.exports=a(30)},,,,,function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){"use strict";a.r(t);var n=a(0),s=a.n(n),i=a(9),o=a.n(i),r=(a(15),a(3)),l=a(4),c=a(6),u=a(5),h=a(1),d=a(7),p=a(2),g=a.n(p),m=(a(16),function(e){function t(e){return Object(r.a)(this,t),Object(c.a)(this,Object(u.a)(t).call(this,e))}return Object(d.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=document.getElementById(this.props.id),t=getComputedStyle(e);e.parentNode.style.height=t.height,e.parentNode.style.width=t.width}},{key:"render",value:function(){var e,t={height:this.height,width:this.width},a="future-border";return this.props.inline&&(a+=" inline"),this.props.link?(a+=" buttonish",e=s.a.createElement("a",{className:a,href:this.props.action,id:this.props.id},this.props.title)):e=s.a.createElement("button",{className:a,onClick:this.props.action,id:this.props.id},this.props.title),s.a.createElement("div",{className:"button-wrapper",style:t},e)}}]),t}(s.a.Component));a(17);function v(e){return e.nav?s.a.createElement("div",{id:"nav-bar",class:"col-12"},s.a.createElement("button",{id:"nav-bar-close",class:"close-button",onClick:e.flip},"X"),s.a.createElement("div",{id:"inner-nav"},s.a.createElement("a",{class:"link-block",href:"https://vkwebsite.herokuapp.com/"},"Homepage"),s.a.createElement("a",{class:"link-block",href:"https://vkplaid.herokuapp.com/"},"Plaid Maker"),s.a.createElement("a",{class:"link-block",href:"https://vkep-picker.herokuapp.com/ep_search",id:"active"},"Episode Picker"),s.a.createElement("p",{class:"hidden link-block",id:"placeholder"}))):s.a.createElement("div",{id:"top-bar"},s.a.createElement("div",null,s.a.createElement(m,{id:"open-nav-button",action:e.flip,title:"Nav Bar",link:!1,inline:!0}),s.a.createElement("h1",null," Episode Picker "),s.a.createElement(m,{id:"github-button",action:"https://github.com/kuertzva/Episode_Picker",title:"Github",link:!0,inline:!0})))}a(18),a(19);var f=function(e){return s.a.createElement("div",{id:"search-section"},s.a.createElement("span",null,s.a.createElement("label",{for:"search"}," Show: "),s.a.createElement("input",{type:"text",name:"search",onChange:function(t){return e.handleChange(t)},value:e.query}),s.a.createElement(m,{id:"search-button",title:"Search",action:e.handleSubmit,link:!1})))};a(20);var b=function(e){return s.a.createElement("div",{"data-id":e.show.link,"data-title":e.show.title,key:e.show.id,"data-image":e.show.image,"data-seasons":e.show.seasons,"data-active":e.show.active,"data-ratingFactor":e.show.rating_factor,onClick:function(t){return e.onClick(t)},className:"suggested-show"},s.a.createElement("h3",null," ",e.show.title," "),s.a.createElement("img",{src:e.show.image}))},E=(a(21),function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).state={shows:null},a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.props.user?g.a.get("/past_runs",(function(t){e.setState({shows:t})})):g.a.get("/past_searches",(function(t){e.setState({shows:t})}))}},{key:"render",value:function(){var e,t=this;if(e=this.props.user?"Past Searches":"Popular Searches",null===this.state.shows||0===this.state.length)return null;var a=this.state.shows.map((function(e){return s.a.createElement(b,{show:e,onClick:t.props.setShow,key:e.link})}));return s.a.createElement("div",{className:"suggestion-box future-border"},s.a.createElement("p",null,e,":"),s.a.createElement("div",{className:"showcase"},a))}}]),t}(s.a.Component));a(22);var S=function(e){return s.a.createElement("div",{id:"start-page"},s.a.createElement(E,{setShow:e.setShow,user:!0}),s.a.createElement(E,{setShow:e.setShow,user:!1}))};a(23);var k=function(e){return s.a.createElement("h3",{className:"loading"},e.string,s.a.createElement("span",null))},y=(a(24),function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).runSearch=a.runSearch.bind(Object(h.a)(a)),a.newSearch=a.newSearch.bind(Object(h.a)(a)),a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"runSearch",value:function(){var e=this;console.log("runSearch()");this.props.loadToggle(),g.a.get("/search_batch",(function(t,a){e.props.handleUpdate(t),console.log("received")}))}},{key:"newSearch",value:function(){var e=this;console.log("search terms initiated"),g.a.get("/q="+this.props.query,(function(t,a){t?e.runSearch(t):alert("Error: failed to update search parameters on server")}))}},{key:"componentDidMount",value:function(){this.newSearch()}},{key:"componentDidUpdate",value:function(e){e.query!==this.props.query&&this.newSearch()}},{key:"render",value:function(){var e,t,a,n;function i(e){var t=this;return s.a.createElement("div",{"data-id":e.id,"data-title":e.title,"data-image":e.image,key:e.id,onClick:function(e){return t.props.onClick(e)},className:"result"},s.a.createElement("h3",null," ",e.title," "),s.a.createElement("img",{src:e.image}))}(console.log(this.props.length),i=i.bind(this),this.props.loading||0!==this.props.results.length)?(console.log(this.props.results),console.log(Array.isArray(this.props.results)),this.props.results.length<1?(a=s.a.createElement("div",{className:"load-buffer"}),t=null):(a=null,t=this.props.results.map((function(e){return i(e)}))),n=this.props.loading?s.a.createElement("div",{className:"load-results"},s.a.createElement(k,{string:"Searching"})):this.props.more?s.a.createElement(m,{id:"more-shows-button",title:"More Shows",action:this.runSearch,link:!1}):null,e=s.a.createElement("div",{id:"results"},t,a,n)):e=s.a.createElement("div",{id:"no-results"},s.a.createElement("h3",null," Umm... Hey... "),s.a.createElement("br",null),s.a.createElement("p",null,"Your search for '"+this.props.query+"' hasn't turned up any results."),s.a.createElement("br",null),s.a.createElement("p",null,"This could be due to IMDB not having a matching show or it could be a bug in my code. Please feel encouraged to contact me at kuertzva@miamioh.edu"));return s.a.createElement("div",{id:"results-page"},s.a.createElement("h2",null," Search for ",s.a.createElement("span",null," ","'"+this.props.query+"':"," ")," "),e)}}]),t}(s.a.Component));a(25);var w=function(e){return s.a.createElement("p",{className:e.active,onClick:function(t){return e.toggleSeason(t)},"data-index":e.index},e.season.number)};a(26);var j=function(e){function t(t){var a=t.target.getAttribute("data-index");e.toggleSeason(a)}var a=e.seasons.map((function(a){return function(a){var n=e.seasons.indexOf(a);return s.a.createElement(w,{season:a,active:"season "+(a.active?"s-active":"s-inactive"),key:n,index:n,toggleSeason:t})}(a)}));return s.a.createElement("div",{id:"season-box"},s.a.createElement("h4",null,"Seasons:"),s.a.createElement("div",{id:"seasons"},a))};a(27);var O=function(e){return s.a.createElement("div",{id:"rating-box"},s.a.createElement("h4",null,"Rating Factor:"),s.a.createElement("div",{id:"input-wrapper"},s.a.createElement("input",{type:"range",min:1,max:3,step:.1,value:e.rating,onChange:function(t){return e.updateRating(t)}}),s.a.createElement("h5",{id:"left-label"}," None "),s.a.createElement("h5",{id:"right-label"}," Max ")),s.a.createElement(m,{id:"get-episode-button",title:"Submit",action:function(){return e.changeEpisode("empty")},link:!1}))},_=(a(28),function(e){function t(e){return Object(r.a)(this,t),Object(c.a)(this,Object(u.a)(t).call(this,e))}return Object(d.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this;g.a.post("/details",{show_id:this.props.show.id,title:this.props.show.title,image:this.props.show.image},(function(t){e.props.jumpSeasons?e.props.toggleJumpSeasons():(alert("JUMP"),e.props.initSeasons(t)),g.a.get("/update_show")}))}},{key:"render",value:function(){var e;return e=this.props.loading?s.a.createElement("div",{className:"load-details"},s.a.createElement(k,{string:"Loading"})):s.a.createElement("div",{id:"details-input"},s.a.createElement(j,{seasons:this.props.seasons,updateSeasons:this.props.updateSeasons,toggleSeason:this.props.toggleSeason}),s.a.createElement(O,{rating:this.props.rating,updateRating:this.props.updateRating,changeEpisode:this.props.changeEpisode})),s.a.createElement("div",{id:"details-screen"},s.a.createElement("div",{id:"details-display"},s.a.createElement("h3",null,this.props.show.title),s.a.createElement("img",{src:this.props.show.image})),e)}}]),t}(s.a.Component)),C=(a(29),function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).generateEpisode=a.generateEpisode.bind(Object(h.a)(a)),a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"generateEpisode",value:function(){var e,t=this,a=[],n=!0,s=!1,i=void 0;try{for(var o,r=this.props.seasons[Symbol.iterator]();!(n=(o=r.next()).done);n=!0)(e=o.value).active&&a.push(e.number)}catch(l){s=!0,i=l}finally{try{n||null==r.return||r.return()}finally{if(s)throw i}}g.a.post("/episode",{season_list:a,ratingFactor:this.props.rating},(function(e){console.log("data received"),t.props.changeEpisode(e),console.log("data formatted"),g.a.get("/update_runs",(function(e,t){"blank"!==e&&(document.cookie=e)}))}))}},{key:"componentDidMount",value:function(){"empty"===this.props.episode&&this.generateEpisode()}},{key:"componentDidUpdate",value:function(){"empty"===this.props.episode&&this.generateEpisode()}},{key:"render",value:function(){var e=this;return"empty"===this.props.episode?s.a.createElement("div",{id:"load-episode"},s.a.createElement(k,{string:"Loading"})):s.a.createElement("div",{id:"episode-screen"},s.a.createElement("div",{id:"episode-top"},s.a.createElement("h3",null,"S"+this.props.episode.season+" E"+this.props.episode.number+": "+this.props.episode.title),s.a.createElement("img",{src:this.props.episode.image})),s.a.createElement("div",{id:"episode-bottom"},s.a.createElement("p",null,this.props.episode.summary),s.a.createElement("div",{id:"episode-button-box"},s.a.createElement(m,{id:"different-episode-button",title:"Different Episode",action:function(){return e.props.changeEpisode("empty")},link:!1}),s.a.createElement(m,{id:"change-params-button",title:"Change Parameters",action:this.props.changeParams,link:!1}))))}}]),t}(s.a.Component)),J=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).navToggle=a.navToggle.bind(Object(h.a)(a)),a.loadToggle=a.loadToggle.bind(Object(h.a)(a)),a.handleQuery=a.handleQuery.bind(Object(h.a)(a)),a.handleSearch=a.handleSearch.bind(Object(h.a)(a)),a.updateSearch=a.updateSearch.bind(Object(h.a)(a)),a.setShow=a.setShow.bind(Object(h.a)(a)),a.initSeasons=a.initSeasons.bind(Object(h.a)(a)),a.toggleSeason=a.toggleSeason.bind(Object(h.a)(a)),a.updateRating=a.updateRating.bind(Object(h.a)(a)),a.changeEpisode=a.changeEpisode.bind(Object(h.a)(a)),a.clearEpisode=a.clearEpisode.bind(Object(h.a)(a)),a.suggestionJump=a.suggestionJump.bind(Object(h.a)(a)),a.toggleJumpSeasons=a.toggleJumpSeasons.bind(Object(h.a)(a)),a.addressJump=a.addressJump.bind(Object(h.a)(a)),a.state={nav:!1,loading:!1,search_input:"",query:"",queried:!1,results:[],more_button:!0,show:null,seasons:[],jumpSeasons:!1,ratingFactor:1,episode:null},a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.addressJump()}},{key:"navToggle",value:function(){this.setState((function(e){return{nav:!e.nav}}))}},{key:"loadToggle",value:function(){alert(this.state.loading),this.setState((function(e){return{loading:!e.loading}}))}},{key:"handleQuery",value:function(e){var t=e.target.value;this.setState({search_input:t})}},{key:"handleSearch",value:function(){console.log("handleSearch"),this.state.search_input.length>0&&this.state.search_input!==this.state.query&&(console.log("extra length"),this.setState((function(e){return{queried:!0,query:e.search_input,results:[],show:null,seasons:[],ratingFactor:1,episode:null}})))}},{key:"updateSearch",value:function(e){console.log("updateSearch");var t=e[0];console.log(t.length),this.setState({results:this.state.results.concat(t),more_button:e[1]}),this.loadToggle()}},{key:"setShow",value:function(e){var t=e.currentTarget,a=t.getAttribute("data-title"),n=t.getAttribute("data-id"),s=t.getAttribute("data-image");this.setState({show:{title:a,id:n,image:s}}),this.state.loading&&this.loadToggle()}},{key:"initSeasons",value:function(e){var t,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(a){t=e.map((function(e){return{number:e,active:!1}}));var n=!0,s=!1,i=void 0;try{for(var o,r=a[Symbol.iterator]();!(n=(o=r.next()).done);n=!0)t[o.value-1].active=!0}catch(l){s=!0,i=l}finally{try{n||null==r.return||r.return()}finally{if(s)throw i}}}else t=e.map((function(e){return{number:e,active:!0}}));this.setState({seasons:t}),this.state.loading&&this.loadToggle(),console.log("updateSeasons()")}},{key:"toggleSeason",value:function(e){var t=this.state.seasons;console.log(t),t[e].active=!t[e].active,this.setState({seasons:t})}},{key:"toggleJumpSeasons",value:function(){this.setState((function(e){return{jumpSeasons:!e.jumpSeasons}}))}},{key:"updateRating",value:function(e){this.setState({ratingFactor:e.target.value})}},{key:"changeEpisode",value:function(e){this.setState({episode:e})}},{key:"clearEpisode",value:function(){this.setState({episode:null})}},{key:"suggestionJump",value:function(e){console.log("suggestionJump()"),this.setShow(e);var t=e.currentTarget,a=t.getAttribute("data-seasons"),n=t.getAttribute("data-active"),s=t.getAttribute("data-ratingFactor");a&&s&&(this.toggleJumpSeasons(),a=a.split(","),n=n.split(","),a=a.map((function(e){return parseInt(e)})),n=n.map((function(e){return parseInt(e)})),console.log("showSeasons: "+a),console.log("activeSeasons: "+n),this.initSeasons(a,n),this.setState({ratingFactor:parseFloat(s)}))}},{key:"addressJump",value:function(){var e=this;console.log("addressJump()"),g.a.get("/address_jump",(function(t,a){t.jump&&(e.setState({show:{title:t.show.title,id:t.show.id,image:t.show.image}}),t.active&&e.initSeasons(t.seasons,t.active),t.rating_factor&&e.setState({ratingFactor:t.rating_factor}))}))}},{key:"render",value:function(){var e;return this.state.episode?e=s.a.createElement(C,{episode:this.state.episode,seasons:this.state.seasons,rating:this.state.ratingFactor,changeParams:this.clearEpisode,changeEpisode:this.changeEpisode,loading:this.state.loading}):this.state.show?e=s.a.createElement(_,{show:this.state.show,seasons:this.state.seasons,rating:this.state.ratingFactor,loading:this.state.loading,jumpSeasons:this.state.jumpSeasons,loadToggle:this.state.loadToggle,initSeasons:this.initSeasons,toggleSeason:this.toggleSeason,toggleJumpSeasons:this.toggleJumpSeasons,updateRating:this.updateRating,changeEpisode:this.changeEpisode}):this.state.queried?(console.log(this.state.show),e=s.a.createElement(y,{query:this.state.query,loading:this.state.loading,loadToggle:this.loadToggle,results:this.state.results,more:this.state.more_button,handleUpdate:this.updateSearch,onClick:this.setShow})):e=s.a.createElement(S,{setShow:this.suggestionJump}),s.a.createElement("div",{id:"frame",className:"col-12 row-12"},null,s.a.createElement(v,{nav:this.state.nav,flip:this.navToggle}),s.a.createElement("div",{id:"content",className:"future-border"},s.a.createElement(f,{search_input:this.state.search_input,handleChange:this.handleQuery,handleSubmit:this.handleSearch}),s.a.createElement("br",null),e))}}]),t}(s.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(s.a.createElement(J,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}],[[10,1,2]]]);
//# sourceMappingURL=main.899a9307.chunk.js.map